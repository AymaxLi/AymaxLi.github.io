<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Aymax&#39;s Home</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://aymaxli.cn/"/>
  <updated>2017-04-07T14:19:47.971Z</updated>
  <id>http://aymaxli.cn/</id>
  
  <author>
    <name>AymaxLi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>å›¾ç‰‡æŒ‰æ¯”ä¾‹å“åº”çš„é­”æ³•</title>
    <link href="http://aymaxli.cn/2017/04/06/keep-aspect-ratio-of-images/"/>
    <id>http://aymaxli.cn/2017/04/06/keep-aspect-ratio-of-images/</id>
    <published>2017-04-05T16:00:00.000Z</published>
    <updated>2017-04-07T14:19:47.971Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>å°ä¼™ä¼´ä»¬åœ¨å†™ banner çš„æ—¶å€™ï¼Œè‚¯å®šéƒ½ä¼šé‡åˆ°å“åº”é—®é¢˜ğŸï¼Œso æˆ‘ä»¬æ¥çœ‹çœ‹å›¾ç‰‡æŒ‰æ¯”ä¾‹å“åº”çš„å„ç§é­”æ³•å§~</p>
<p><img src="/2017-4-6/images/æ²¡è§è¿‡ä¸–é¢.jpg" alt="æ²¡è§è¿‡ä¸–é¢.jpg"></p>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><h3 id="åˆé˜¶é­”æ³•-vw"><a href="#åˆé˜¶é­”æ³•-vw" class="headerlink" title="åˆé˜¶é­”æ³• - vw"></a>åˆé˜¶é­”æ³• - vw</h3><p><code>vw</code> æ˜¯ <code>CSS3</code>æ–°å¢çš„ä¸€ä¸ªé•¿åº¦å•ä½ï¼Œä¸å…¶é…å¯¹çš„è¿˜æœ‰ <code>vh</code>ã€‚</p>
<blockquote>
<p>ç›¸å¯¹äºè§†å£çš„å®½åº¦ï¼Œè§†å£è¢«å‡åˆ†ä¸º100å•ä½çš„vwã€‚</p>
</blockquote>
<p>å®˜æ–¹çš„è§£é‡Šæœ‰äº›æ‹—å£ğŸ™Šï¼Œä¸¾ä¸ªç®€å•çš„æ —å­ğŸŒ°ï¼Œå‡å¦‚è§†å£å®½åº¦ä¸º 200pxï¼Œåˆ™ 30vw = 60pxã€‚<br>é‚£ä¹ˆï¼Œæˆ‘ä»¬ç›´æ¥ç»™ç”¨ <code>vw</code> ä½œä¸º banner çš„ <code>width</code>ã€<code>height</code> å•ä½ï¼Œä¾¿å¯å®ç° banner ä¿æŒå®½é«˜æ¯”è‡ªé€‚åº”è§†å£å®½åº¦äº†ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.banner</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">80vw</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">60vw</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ä»¥ä¸Šï¼Œåˆ©ç”¨å•ä½ <code>vw</code> æ¥å®šä¹‰å®½é«˜ä¼°æ‘¸æ˜¯<strong>æœ€ç®€å•æš´åŠ›</strong>çš„è§£å†³æ–¹æ³•äº†ã€‚</p>
<h3 id="é»‘é­”æ³•-JS"><a href="#é»‘é­”æ³•-JS" class="headerlink" title="é»‘é­”æ³• - JS"></a>é»‘é­”æ³• - JS</h3><p>ç”¨ <code>JavaScript</code> ä¹Ÿèƒ½å®ç°è¿™ä¸ªéœ€æ±‚ï¼Œå¤§æ¦‚æ€è·¯æ˜¯ç”¨ <code>CSS</code> è®© banner çš„å®½åº¦è‡ªé€‚åº”ï¼Œç„¶åç›‘å¬ <code>onresize</code> äº‹ä»¶ï¼Œå½“ <code>resize</code> äº‹ä»¶å‘ç”Ÿçš„æ—¶å€™ç”¨ <code>JS</code> å»ä¿®æ”¹ banner çš„é«˜åº¦ã€‚</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.banner</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">80%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.body.addEventListener(<span class="string">'resize'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> target = e.target;</div><div class="line">  <span class="keyword">if</span> (hasClass(target, <span class="string">'banner'</span>)) &#123;</div><div class="line">    target.style.height = <span class="built_in">parseFloat</span>(getProperty(target, <span class="literal">null</span>, <span class="string">'width'</span>)) * <span class="number">0.618</span> + <span class="string">'px'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// åˆ¤æ–­å…ƒç´ æ˜¯å¦æœ‰æŸç±»å</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">element, className</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(^|\\s+)'</span> + className + <span class="string">'(\\s+|$)'</span>)</div><div class="line">  <span class="keyword">return</span> reg.test(element.className)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// è·å–å…ƒç´ å¤–è”æ ·å¼</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getProperty</span>(<span class="params">element, pseudo, property</span>) </span>&#123;</div><div class="line">	<span class="keyword">return</span> <span class="built_in">window</span>.getComputedStyle(element, pseudo).getPropertyValue(property);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ul>
<li>å‡å¦‚ className = â€˜bannerâ€™ï¼Œä¸Šé¢çš„æ­£åˆ™å¯ä»¥çœ‹æˆ<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> reg = <span class="regexp">/^banner$|^banner\s+|\s+banner\s+|\sbanner$/</span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>ğŸŒ°å¯¹åº”ä¾‹å­ï¼šâ€™bannerâ€™ | â€˜banner xxxâ€™ | â€˜xxx banner xxxâ€™ | â€˜xxx bannerâ€™</p>
<ul>
<li><code>getProperty()</code><ul>
<li>å‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ dom å¯¹è±¡ã€‚ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¼ªå…ƒç´ åï¼Œè‹¥æ˜¯æ™®é€šå…ƒç´ å°±ä¼  <code>null</code>ã€‚</li>
<li>è¿”å›å€¼ï¼šä¸€ä¸ª<strong>å®æ—¶çš„</strong> <code>CSSStyleDeclaration</code> å¯¹è±¡ï¼Œå½“å…ƒç´ çš„æ ·å¼æ›´æ”¹æ—¶ï¼Œå®ƒä¼šè‡ªåŠ¨æ›´æ–°æœ¬èº«ã€‚å¯ä»¥é€šè¿‡å®ƒçš„ <code>getPropertyValue()</code> æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªå±æ€§å(String)æ¥è·å–å¤–è” <code>CSS</code> å±æ€§ã€‚</li>
</ul>
</li>
</ul>
<p>è™½ç„¶ç”¨ <code>JS</code> ä¹Ÿèƒ½å®Œæˆä»»åŠ¡ï¼Œè€Œä¸”å…¼å®¹æ€§ä¼šæ¯” <code>CSS3</code> å¥½ï¼Œä½†æ˜¯é»‘é­”æ³•ç»ˆç©¶æ˜¯é»‘é­”æ³•ï¼Œè¿™åšä¼š<strong>ç‰ºç‰²ä¸€å®šçš„é¡µé¢æ€§èƒ½</strong>ï¼Œæ˜¯ä¸€ç§æ›²çº¿æ•‘å›½çš„æ–¹æ³•ã€‚</p>
<h3 id="ä¸Šå¤ç§˜æ³•-Padding"><a href="#ä¸Šå¤ç§˜æ³•-Padding" class="headerlink" title="ä¸Šå¤ç§˜æ³• - Padding"></a>ä¸Šå¤ç§˜æ³• - Padding</h3><p>é¦–å…ˆæˆ‘ä»¬å¯ä»¥åšä¸ªå®éªŒ<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">* &#123;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.daddy</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">500px</span>;</div><div class="line">  <span class="attribute">height</span>: <span class="number">400px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.duote</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: pink;</div><div class="line">  <span class="attribute">padding-bottom</span>: <span class="number">50%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"daddy"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"duote"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="/2017-4-6/demo/demo1.html">demo1</a></p>
<p>æ£€æŸ¥å…ƒç´ ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œå¤šç‰¹çš„ <code>padding-bottom</code> æ˜¯ <code>500px</code>ï¼Œè€Œä¸æ˜¯ <code>400px</code>ã€‚</p>
<blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>padding-bottom</code> çš„ç™¾åˆ†æ¯”æ•°å€¼çš„æ˜¯<strong>çˆ¶å…ƒç´ çš„å®½åº¦</strong>åšå‚ç…§çš„ï¼ï¼ï¼ ğŸ˜±</p>
</blockquote>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨ï¼Œçˆ¹åœ°çš„å®½åº¦è‡ªé€‚åº”è§†å£ï¼Œç„¶å<strong>è®©å¤šç‰¹æŒ‰ç™¾åˆ†æ¯”è®¡ç®—é«˜åº¦ï¼Œæ’‘å¼€çˆ¹åœ°</strong>ï¼Œè¿™ä¸å°±å¯ä»¥å®Œæˆéœ€æ±‚ï¼Œè®©çˆ¹åœ°çš„é«˜åº¦å’Œå®½åº¦ä¿æŒæ¯”ä¾‹äº†å˜› ğŸ˜‹<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">* &#123;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.daddy</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">60%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.daddy</span><span class="selector-pseudo">::before</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="comment">/* ä¼ªå…ƒç´ é»˜è®¤ä¸ºè¡Œå†…å…ƒç´ ï¼Œæ”¹æˆå—çº§å…ƒç´ æ‰èƒ½æ’‘å¼€ daddy */</span></div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="attribute">background-color</span>: pink;</div><div class="line">  <span class="attribute">padding-bottom</span>: <span class="number">50%</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"daddy"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>hei i am Aymax<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="/2017-4-6/demo/demo2.html">demo2</a></p>
<p>demo2 ä¸­ï¼Œdom ç»“æ„çš„åˆ°äº†ä¼˜åŒ–ï¼Œç”¨<strong>ä¼ªå…ƒç´ </strong> <code>::before</code>æ¥ä»£æ›¿äº†å¤šç‰¹ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¼ªå…ƒç´ é»˜è®¤ä¸º inline-element (è¡Œå†…å…ƒç´ )ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ç»™å®ƒçš„ <code>display</code> å±æ€§èµ‹å€¼ä¸º <code>inline-block</code>ï¼ŒğŸ™‹ä¸ºä»€ä¹ˆä¸ç”¨ <code>block</code> å’§ï¼Ÿ</p>
<p>å› ä¸ºï¼Œå¾ˆå¤šæ—¶å€™ banner ä¸Šè¿˜ä¼šæœ‰ä¸€äº›æ ‡è¯­ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜è¦åœ¨ daddy é‡Œé¢åŠ ä¸€äº›å­å…ƒç´ ï¼Œæ¯”å¦‚ä¸€ä¸ª <code>&lt;span&gt;</code> æ ‡ç­¾ã€‚</p>
<p>å‡å¦‚æˆ‘ä»¬ç”¨äº† <code>block</code> çš„è¯ï¼Œä¼ªå…ƒç´ ä¾¿ä¼šå æ®ä¸€æ•´è¡Œï¼Œå¯¼è‡´ daddy çš„å…¶ä»–å­å…ƒç´ è¦æ¢è¡Œæ˜¾ç¤ºï¼Œè¿™æ ·é«˜åº¦å°±ä¼šæ¯”é¢„æœŸçš„é«˜ä¸€æˆªï¼Œ</p>
<p>å³ä¼ªå…ƒç´ çš„ <code>padding-bottom</code> åŠ  daddy çš„ <code>line-height</code>ï¼Œå¦‚ä¸‹å›¾</p>
<p><img src="/2017-4-6/images/blockå’Œinline-block.jpg" alt="blockå’Œinline-block"></p>
<p>ç„¶é¹…ï¼Œå¤§å®¶æœ‰æ²¡æœ‰èŠ±ç°ï¼Œå°±ç®—ä¼ªå…ƒç´ ç”¨äº† <code>inline-block</code>ï¼Œdaddy çš„åº•éƒ¨è¿˜æ˜¯ä¼šæœ‰ä¸€æ¡è¿·ä¹‹ç©ºç™½å¸¦ ğŸ¤· (é»‘äººé—®å·ï¼Ÿï¼Ÿï¼Ÿ)</p>
<p><img src="/2017-4-6/images/white-blank-space.jpg" alt="é»‘äººé—®å·"></p>
<p>å†·é™å†·é™ï¼Œå³é”®å®¡æŸ¥å…ƒç´ ï¼Œä¸€çœ‹ï¼Œä¸æ˜¯ <code>padding</code>ï¼Œä¹Ÿä¸æ˜¯ <code>margin</code>ï¼Œå“ªé‡Œè·‘å‡ºæ¥ä¸ªç“œçš®ç©ºç™½å¸¦å•Šï¼Œæˆ‘ä¹Ÿæƒ³æ£’æ£’å•Šï¼Œå“­å”§å”§ (Â´à¼àº¶Ğ”à¼àº¶`)ï¼Œwtf</p>
<p>å¥½æ°”å•Šï¼Œä¸è¿‡è¿˜æ˜¯è¦ä¿æŒå†·é™ï¼Œå¥½å§ï¼Œæˆ‘è¿˜æ˜¯ google ä¸€ä¸‹å§ï¼Œæœç„¶çš‡å¤©ä¸è´Ÿæœ‰å¿ƒäººï¼Œå¼ é‘«æ—­å¤§å¤§çš„ blog ç»™å‡ºäº†ç­”æ¡ˆï¼Œè¿™å…¶å®æ˜¯ <code>vertical-align</code> å’Œ <code>line-height</code> çš„é”…ã€‚</p>
<p><img src="/2017-4-6/images/fuck.jpg" alt="æ°‘å›½fuck.jpg"></p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹ <code>vertical-align</code> è¿™ä¸ªå±æ€§</p>
<blockquote>
<p>vertical-align å±æ€§è®¾ç½®å…ƒç´ çš„å‚ç›´å¯¹é½æ–¹å¼ã€‚</p>
</blockquote>
<p>å› ä¸ºæˆ‘ä»¬æ²¡æœ‰å¯¹ daddy å’Œ .daddy::before è®¾ç½® <code>vertical-align</code>ï¼Œæ‰€ä»¥ä»–ä»¬çš„ <code>vertical-align</code> æ˜¯é»˜è®¤å€¼ <code>baseline</code>ï¼Œå³<strong>åŸºçº¿å¯¹é½</strong>ï¼ŒåŸºçº¿å¯¹é½åˆæ˜¯ä»€ä¹ˆçš®çš®å‘¢ï¼Œæˆ‘ä»¬çœ‹ä¸‹å›¾</p>
<p><img src="/2017-4-6/images/baseline.jpg" alt="åŸºçº¿.jpg"></p>
<p>é»‘è‰²è™šçº¿å°±æ˜¯ <code>baseline</code>ï¼Œå› ä¸ºä¼ªå…ƒç´  <code>daddy::before</code> æ˜¯ <code>inline-block</code> çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒå½“æˆä¸€ä¸ªå­—æ¯æ¥çœ‹å¾…ï¼Œå’Œå³è¾¹çš„å­—æ¯å¹³èµ·å¹³åã€‚å¾ˆæ˜æ˜¾ï¼Œé‚£ä¸ªç“œçš®ç©ºç™½å¸¦æ˜¯ <code>line-height</code>(è¡Œé«˜) çš„çš„é”…ã€‚</p>
<p>ğŸ¤¦è¾£ä¹ˆå’±ä»¬è¦å¦‚æœè§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿ</p>
<blockquote>
<p><code>vertical-align: middle</code> æŠŠæ­¤å…ƒç´ æ”¾ç½®åœ¨çˆ¶å…ƒç´ çš„ä¸­éƒ¨ã€‚</p>
</blockquote>
<p>ç­”æ¡ˆå¾ˆç®€å•ã€‚åªéœ€è¦å°†ä¼ªå…ƒç´  <code>daddy::before</code> çš„ <code>vertical-align</code> å®šä¹‰ä¸º <code>middle</code>ï¼Œé—®é¢˜ä¾¿è¿åˆƒè€Œè§£ ğŸ‘</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">* &#123;</div><div class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</div><div class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.daddy</span> &#123;</div><div class="line">  <span class="attribute">background-color</span>: <span class="number">#ff0000</span>;</div><div class="line">  <span class="attribute">width</span>: <span class="number">60%</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.daddy</span><span class="selector-pseudo">::before</span> &#123;</div><div class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</div><div class="line">  <span class="comment">/* ä¼ªå…ƒç´ é»˜è®¤ä¸ºè¡Œå†…å…ƒç´ ï¼Œæ”¹æˆå—çº§å…ƒç´ æ‰èƒ½æ’‘å¼€ daddy */</span></div><div class="line">  <span class="attribute">display</span>: inline-block;</div><div class="line">  <span class="attribute">background-color</span>: pink;</div><div class="line">  <span class="attribute">padding-bottom</span>: <span class="number">50%</span>;</div><div class="line">  <span class="attribute">width</span>: .<span class="number">1px</span>;</div><div class="line">  <span class="comment">/* å¾ˆé‡è¦ï¼Œè§£å†³ line-height äº§ç”Ÿçš„ç©ºç™½å¸¦ */</span></div><div class="line">  <span class="attribute">vertical-align</span>: middle;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"daddy"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span>&gt;</span>hei i am Aymax<span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="/2017-4-6/demo/demo3.html">demo3</a></p>
<p>å†æŠŠä¼ªå…ƒç´  <code>daddy::before</code> çš„å®½åº¦è®¾ç½®ä¸º <code>0.1px</code>ï¼Œå‡ ä¹æ¶ˆå¤±åœ¨äº†ç”¨æˆ·çš„å®ç°ä¸­(å™—è™½ç„¶ä¸æ‰‹åŠ¨è®¾ç½®é¢œè‰²çš„æ—¶å€™å®ƒæœ¬æ¥å°±æ˜¯é€æ˜çš„ğŸŒš)ï¼Œå°±åƒä¸€æ ¹ç‰™ç­¾ä¸€æ ·æ’‘ç€ <code>div</code>ï¼Œå§‘ä¸”å”¤ä½œç‰™ç­¾é­”æ³•æˆ–è€… stick magic ğŸ­å§~</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://segmentfault.com/q/1010000002501794" target="_blank" rel="external">å¦‚ä½•ç”¨JavaScriptåˆ¤æ–­domæ˜¯å¦æœ‰classçš„å€¼ï¼Ÿ- segmentfault</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/getComputedStyle" target="_blank" rel="external">getComputedStyle() - MDN</a></li>
<li><a href="http://www.jianshu.com/p/83a84445d967" target="_blank" rel="external">csså®ç°é«˜åº¦heightéšå®½åº¦widthå˜åŒ–ä¿æŒæ¯”ä¾‹ä¸å˜ - ç®€ä¹¦</a></li>
<li><a href="http://www.zhangxinxu.com/wordpress/2015/08/css-deep-understand-vertical-align-and-line-height/" target="_blank" rel="external">CSSæ·±å…¥ç†è§£vertical-alignå’Œline-heightçš„åŸºå‹å…³ç³» - å¼ é‘«æ—­</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Background&quot;&gt;&lt;a href=&quot;#Background&quot; class=&quot;headerlink&quot; title=&quot;Background&quot;&gt;&lt;/a&gt;Background&lt;/h2&gt;&lt;p&gt;å°ä¼™ä¼´ä»¬åœ¨å†™ banner çš„æ—¶å€™ï¼Œè‚¯å®šéƒ½ä¼šé‡åˆ°å“åº”é—®é¢˜ğŸï¼Œso æˆ‘ä»¬æ¥çœ‹
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>Safari çš„ä¸‹è½½å‘</title>
    <link href="http://aymaxli.cn/2017/03/20/Safari-download-problem/"/>
    <id>http://aymaxli.cn/2017/03/20/Safari-download-problem/</id>
    <published>2017-03-19T16:00:00.000Z</published>
    <updated>2017-03-21T14:14:38.669Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>è¿‘æ¥æ¥åˆ°ä¸€ä¸ªä¼˜åŒ–éœ€æ±‚æ˜¯è¦æ”¹ iOS ç«¯ä¸‹è½½é¡µé¢çš„æµç¨‹ï¼Œå½“åˆæˆ‘ä»¥ä¸ºè¿™æ˜¯å°èœä¸€ç¢Ÿï¼Œæ™šé¥­åä¾¿å»å—äº­ä¹°äº†æ¯å¥¶ç›–ğŸ¨ï¼Œå·®å±é¢ å±é¢ çš„å›äº†å·¥ä½œå®¤ğŸš²ï¼Œåæ¥å‘ç°æ‰å‘ç°æˆ‘çœŸæ˜¯ too navie ğŸ˜·ğŸ˜·</p>
<h2 id="Details"><a href="#Details" class="headerlink" title="Details"></a>Details</h2><ul>
<li><p>ä»¥å‰çš„ä¸šåŠ¡æµç¨‹ï¼š<br>ç”¨æˆ·é˜…è¯»å®Œå¤‡æ³¨é¡µåï¼Œç‚¹å‡»æŒ‰é’®ï¼Œé€šè¿‡ window.open(â€˜itms-service://xxxxxxxâ€™) æ‰“å¼€æ–°çª—å£ï¼Œè°ƒç”¨ itms-service åè®®çš„ç©ºç™½é¡µä¸‹è½½è½¯ä»¶</p>
</li>
<li><p>æ–°çš„æµç¨‹ï¼š<br>ç”¨æˆ·æ¥åˆ°å¤‡æ³¨é¡µåï¼Œç›´æ¥å¼¹å‡ºä¸‹è½½æç¤ºï¼Œç‚¹å‡»å®‰è£…åç»§ç»­é˜…è¯»å¤‡æ³¨é¡µ</p>
</li>
</ul>
<h2 id="Trapped"><a href="#Trapped" class="headerlink" title="Trapped"></a>Trapped</h2><p>å› ä¸ºè¿™ä¸ª itms-service://xxxxxxx ç©ºç™½ä¸‹è½½é¡µæˆ‘æ˜¯æ— æ³•æ§åˆ¶çš„ï¼Œæˆ‘ä¸å¯èƒ½ä»è¿™é‡Œè·³åˆ°å¤‡æ³¨é¡µã€‚æ‰€ä»¥æˆ‘ä¸èƒ½ç”¨ window.open(downloadUrl)ï¼Œå› ä¸ºè¿™ä¼šè·³è½¬åˆ°æ–°é¡µé¢ã€‚<strong>insteadï¼Œæˆ‘è¦åœ¨å¤‡æ³¨é¡µç›´æ¥è°ƒç”¨è¿™ä¸ª itms-serviceã€‚</strong></p>
<h3 id="location-href"><a href="#location-href" class="headerlink" title="location.href"></a>location.href</h3><p>é¦–å…ˆæˆ‘å°è¯•çš„ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ç›´æ¥æ”¹ location.hrefï¼Œ<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">location.href = <span class="string">'itms-service://xxxxxxx'</span>;</div></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªæ–¹æ³•åœ¨ iOS10 çš„ Safari ä¸Šæ˜¯å¯è¡Œçš„ï¼Œå®ƒä¼šè°ƒç”¨ items-service æ¥ä¸‹è½½ï¼Œä½†æ˜¯ <strong>é¡µé¢çš„ href å…¶å®ä¸ä¼šæ”¹å˜</strong>ï¼Œä¼šç»§ç»­åœç•™åœ¨å¤‡æ³¨é¡µã€‚</p>
<p>å¤©çœŸçš„æˆ‘ä»¥ä¸ºè¿™æ ·å°±èƒ½æ”¶å·¥äº†ï¼Œç„¶è€Œäº‹æƒ…å¹¶æ²¡æœ‰è¿™ä¹ˆé¡ºåˆ©ã€‚iOS8 å’Œ iOS9 çš„ Safari å¯¹ç›´æ¥æ”¹ location.href çš„æµè§ˆå™¨è¡Œä¸ºå¹¶æ²¡æœ‰è¿™ä¹ˆå‹å¥½ã€‚</p>
<ul>
<li><p>åœ¨ iOS8 ä¸­ï¼Œç›´æ¥æ”¹ location.href å¹¶ä¸ä¼šé©¬ä¸Šæœ‰æ•ˆæœï¼Œ<strong>è¦æ‰‹åŠ¨åˆ·æ–°</strong> æ‰ä¼šæœ‰ä¸‹è½½æç¤ºã€‚</p>
</li>
<li><p>åœ¨ iOS9 ä¸­ï¼Œç›´æ¥æ”¹ location.href æ›´åŠ ç¥å¥‡ï¼Œå®ƒè™½ç„¶ä¸ç”¨æ‰‹åŠ¨åˆ·æ–°ä¹Ÿæœ‰ä¸‹è½½æç¤ºï¼Œä½†æ˜¯ <strong>ç‚¹å‡»ä¸‹è½½åå½“å‰å¤‡æ³¨é¡µä¼šè¢«å…³æ‰</strong>ï¼Œä»¤äººæ±—é¢œã€‚ã€‚ã€‚ğŸ˜“</p>
</li>
</ul>
<h3 id="iframe"><a href="#iframe" class="headerlink" title="iframe"></a>iframe</h3><p>åæ¥ï¼Œæˆ‘å°è¯•äº†ç¬¬äºŒä¸ªæ–¹æ³• - iframe<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> ifr = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</div><div class="line">ifr.src = <span class="string">'itms-service://xxxxxxx'</span>;</div><div class="line">ifr.style.display = <span class="string">'none'</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(ifr);</div></pre></td></tr></table></figure></p>
<p>å¾ˆä¸å·§ï¼Œä¸åŒç‰ˆæœ¬çš„ Safari å¯¹ iframe çš„å¤„ç†ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œ<strong>è¿™ç§æ–¹æ³•åœ¨ iOS9 çš„ Safari ä¸­ç”šè‡³ä¼šå¤±æ•ˆ</strong></p>
<h2 id="Solved"><a href="#Solved" class="headerlink" title="Solved"></a>Solved</h2><p>æœ€åï¼Œæˆ‘æ‰¾åˆ°èƒ½äº†å…¼å®¹ iOS8/9/10 çš„æ–¹æ³• ğŸ™ˆğŸ™‰ğŸ™Š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> link = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</div><div class="line">link.href = <span class="string">'itms-service://xxxxxxx'</span>;</div><div class="line">link.style = <span class="string">"visibility: hidden"</span>;</div><div class="line"><span class="built_in">document</span>.body.appendChild(link);</div><div class="line">link.click();</div></pre></td></tr></table></figure></p>
<p>å¯¹äºè¿™ç§ç”¨ <code>a</code> æ ‡ç­¾æ‰“å¼€ itms-service://xxxxxxx çš„æ–¹å¼ï¼Œä¸‰ä¸ªç‰ˆæœ¬çš„ Safari çš„æµè§ˆå™¨è¡Œä¸ºç»ˆäºä¸€æ ·äº†ï¼Œéƒ½æ˜¯èƒ½å¼¹å‡ºä¸‹è½½æç¤ºï¼ŒçœŸæ˜¯çš†å¤§æ¬¢å–œå•Šï¼Œå¿ƒä¸­é»˜é»˜é—®å€™äº† Safari åƒç™¾éï¼Œç»ˆäºèƒ½å›å®¿èˆæ´—æ¾¡ç¡è§‰äº†ğŸ˜­ğŸ˜­</p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="http://www.cnblogs.com/zichi/p/5011212.html" target="_blank" rel="external">Safari ä¸‹ç”¨ â€œlocation.href = filePathâ€ å®ç°ä¸‹è½½åŠŸèƒ½çš„è¯¡å¼‚ bug</a></li>
<li><a href="http://www.webdeveloper.com/forum/showthread.php?112208-how-to-overcome-hidden-iframe-problem-in-Safari" target="_blank" rel="external">how to overcome hidden iframe problem in Safari</a></li>
<li><a href="http://stackoverflow.com/questions/23190467/how-can-i-make-my-file-download-work-on-ie-and-safari" target="_blank" rel="external">How can I make my file download work on IE and safari?</a></li>
<li><a href="https://www.keakon.net/2015/09/29/%E5%85%BC%E5%AE%B9iOS9Safari%E7%9A%84%E5%BA%94%E7%94%A8%E8%B7%B3%E8%BD%AC%E6%96%B9%E6%A1%88%E6%8E%A2%E7%B4%A2" target="_blank" rel="external">å…¼å®¹ iOS 9 Safari çš„åº”ç”¨è·³è½¬æ–¹æ¡ˆæ¢ç´¢</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Background&quot;&gt;&lt;a href=&quot;#Background&quot; class=&quot;headerlink&quot; title=&quot;Background&quot;&gt;&lt;/a&gt;Background&lt;/h2&gt;&lt;p&gt;è¿‘æ¥æ¥åˆ°ä¸€ä¸ªä¼˜åŒ–éœ€æ±‚æ˜¯è¦æ”¹ iOS ç«¯ä¸‹è½½é¡µé¢çš„æµç¨‹ï¼Œå½“åˆæˆ‘ä»¥ä¸ºè¿™æ˜¯å°èœä¸€ç¢Ÿ
    
    </summary>
    
    
  </entry>
  
</feed>
